<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>vue example</title>
    <style type="text/css">
        .hide-left {
            margin-left: -1000px;
        }
    </style>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vue/1.0.28/vue.js"></script>
</head>
<body id="app">
<ul>
    <li><a href="index.html">index</a></li>
    <li><a href="setSelectionRange.html">setSelectionRange</a></li>
    <li><a href="setFocus.html">just setFocus</a></li>
    <li><a href="vueExample.html">vue example</a></li>
</ul>

<h2 style="color: #AA074B">vue example</h2>
<div style="height: 350px; background-color: #efefef"><p>Lorem ipsum...</p><p>Lorem ipsum...</p><p>Lorem ipsum...</p></div>
<h2 style="color: #AA074B">vue example</h2>
<div style="height: 350px; background-color: #efefef"><p>Lorem ipsum...</p><p>Lorem ipsum...</p><p>Lorem ipsum...</p></div>
<h2 style="color: #AA074B">vue example</h2>

<div v-bind:style="{display: displayText}">
    {{ DisplayWeight }} <button class="btn btn-xs btn-default ml-20" @click="toggleEdit">Edit</button>
</div>

<!--<div v-bind:class="{'hide-left': show}" style="display: inline">-->
<div v-bind:style="{display: displayInput}">
    <input v-model="weight"
           v-el:pax-weight
           v-on:keyup.enter="saveEdit"
           v-on:keyup.esc="cancelEdit"
           style="width: 5em"
           type="number" min="0" step="1" inputmode="numeric" pattern="[0-9]*"
           title="Non-negative integral number"
    >
</div>
<div v-bind:style="{display: displayInput}">
    <button class="btn btn-xs btn-default" @click="saveEdit">Save</button> <button class="btn btn-xs btn-default" @click="cancelEdit">Cancel</button>
</div>


<h2 style="color: #AA074B">vue example</h2>
<div style="height: 350px; background-color: #efefef"><p>Lorem ipsum...</p><p>Lorem ipsum...</p><p>Lorem ipsum...</p></div>
<h2 style="color: #AA074B">vue example</h2>
<div style="height: 350px; background-color: #efefef"><p>Lorem ipsum...</p><p>Lorem ipsum...</p><p>Lorem ipsum...</p></div>
<h2 style="color: #AA074B">vue example</h2>

<script>
    var vueData = {
        weight: 100,
        show: true
    };

    var vm = new Vue({
        el: '#app',
        data: vueData,

        computed: {
            DisplayWeight: function () {
                return this.weight + ' kg';
            },
            displayText: function() {
                return this.show ? 'inline' : 'none';
            },
            displayInput: function() {
                return this.show ? 'none' : 'inline';
            }

        },

        methods: {
            toggleEdit: function () {
                this.show = false;

                this.$nextTick(function () {

                    var el = this.$els.paxWeight;
                    el.focus();
                    el.type = 'text';
                    setTimeout(function (el) {
                        el.setSelectionRange(0, 6);
                        el.type = 'number';
                    }, 300, el);
                });

            },
            saveEdit: function() {
                this.show = true;
            },
            cancelEdit: function() {
                this.show = true;
            }
        }


    });
</script>
</body>
</html>
